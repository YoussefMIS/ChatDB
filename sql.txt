CREATE TABLE branches (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  Name VARCHAR2(45 CHAR),
  Location VARCHAR2(45 CHAR),
  Manager VARCHAR2(45 CHAR),
  CONSTRAINT branches_pk PRIMARY KEY (ID)
);

CREATE TABLE clients (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  First_Name VARCHAR2(20 CHAR),
  Last_name VARCHAR2(20 CHAR),
  DOB DATE,
  Address VARCHAR2(200 CHAR),
  Age INTEGER,
  Sex VARCHAR2(10 CHAR),
  Created_Time TIMESTAMP,
  "Contact_no." VARCHAR2(45 CHAR),
  "Work_no." VARCHAR2(45 CHAR),
  CONSTRAINT clients_pk PRIMARY KEY (ID)
);

CREATE TABLE account_types (
  ID INTEGER NOT NULL,
  Description_Type VARCHAR2(500 CHAR),
  CONSTRAINT account_types_pk PRIMARY KEY (ID)
);

CREATE TABLE transaction_type (
  ID INTEGER NOT NULL,
  Transaction_type VARCHAR2(45 CHAR),
  Description VARCHAR2(475 CHAR),
  Transaction_fee INTEGER,
  CONSTRAINT transaction_type_pk PRIMARY KEY (ID)
);

CREATE TABLE account (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  Balance_account INTEGER,
  Status VARCHAR2(10 CHAR),
  Created_at TIMESTAMP,
  Deleted_at TIMESTAMP,
  Client_ID INTEGER NOT NULL,
  account_type_id INTEGER NOT NULL,
  Branch_ID INTEGER NOT NULL,
  CONSTRAINT account_pk PRIMARY KEY (ID),
  CONSTRAINT account_client_fk FOREIGN KEY (Client_ID) REFERENCES clients (ID),
  CONSTRAINT account_account_types_fk FOREIGN KEY (account_type_id) REFERENCES account_types (ID),
  CONSTRAINT account_branch_id FOREIGN KEY (Branch_ID) REFERENCES branches (ID)
);

CREATE TABLE transactions (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  Amount_Transactions INTEGER,
  Date_issued TIMESTAMP,
  Deposit INTEGER,
  Withdraw INTEGER,
  Transfer INTEGER,
  Total_Balance INTEGER,
  Transactions_type_ID INTEGER NOT NULL,
  Source_Account_ID INTEGER NOT NULL,
  Destination_Account_ID INTEGER,
  CONSTRAINT transactions_pk PRIMARY KEY (ID),
  CONSTRAINT destination_fk FOREIGN KEY (Destination_Account_ID) REFERENCES account (ID),
  CONSTRAINT source_fk FOREIGN KEY (Source_Account_ID) REFERENCES account (ID),
  CONSTRAINT transaction_type_fk FOREIGN KEY (Transactions_type_ID) REFERENCES transaction_type (ID)
);

CREATE INDEX account_client_fk_idx ON account(Client_ID);
CREATE INDEX account_account_types_fk_idx ON account(account_type_id);
CREATE INDEX account_branch_id_idx ON account(Branch_ID);

CREATE INDEX source_fk_idx ON transactions(Source_Account_ID);
CREATE INDEX destination_fk_idx ON transactions(Destination_Account_ID);
CREATE INDEX transaction_type_fk_idx ON transactions(Transactions_type_ID);